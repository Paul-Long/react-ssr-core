{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/app.js","webpack:///./src/client/modules/app.js","webpack:///./src/client/modules/index.js","webpack:///./src/client/redux/core.js","webpack:///./src/client/redux/create-app.js","webpack:///./src/client/redux/createReducer.js","webpack:///./src/client/redux/createStore.js","webpack:///./src/client/redux/fetch.js","webpack:///./src/client/redux/reducerBuilder.js","webpack:///./src/client/redux/sagaBuilder.js","webpack:///./src/client/redux/utils.js","webpack:///./src/client/render-server.js","webpack:///./src/client/routes/index.js","webpack:///external \"antd/lib/button\"","webpack:///external \"antd/lib/button/style\"","webpack:///external \"babel-runtime/helpers/defineProperty\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/helpers/objectWithoutProperties\"","webpack:///external \"babel-runtime/helpers/slicedToArray\"","webpack:///external \"babel-runtime/helpers/toArray\"","webpack:///external \"babel-runtime/helpers/toConsumableArray\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"invariant\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"lodash/has\"","webpack:///external \"lodash/isNil\"","webpack:///external \"lodash/isObject\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-saga\"","webpack:///external \"redux-saga/effects\""],"names":["app","App","models","modules","router","start","key","initialState","count","create","cSagaMiddleware","createSagaMiddleware","default","createOpts","setupApp","onErr","onError","onEffect","onFetchOption","onReducer","history","_models","model","reducerMiddleware","push","middleware","_reducerMiddleware","sagaMiddleware","store","reducers","_store","runSaga","run","sagas","Routers","createApp","opts","oldAppStart","_router","getProvider","render","container","ReactDOM","handlers","Error","state","action","handler","type","newState","endsWith","error","devtools","noop","middlewares","enhancers","applyMiddleware","compose","fetch","url","options","finalOptions","Object","assign","credentials","reducerBuilder","initialReducerGroup","reducerGroups","Map","hasOwnProperty","reducer","Array","collectReducers","entries","reducerGroup","forEach","keys","split","groupKey","subKeys","group","get","set","length","single","has","resultKey","overrideState","reducerAction","isFunc","reducerHandler","payload","other","done","fromSocket","result","success","loading","values","value","previous","i","next","method","sagaBuilder","createSaga","effects","Fetch","args","sagaArr","item","saga","fork","bodyHandler","data","JSON","stringify","pairs","join","getEffect","baseEffect","option","take","takeEvery","actions","response","effect","putAction","bodyParser","body","createOptions","headers","message","put","status","json","extHeaders","isHTMLElement","isFunction","o","isString","isArray","bind","node","nodeType","nodeName","err","dispatch","stack","module","exports"],"mappings":"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","file":"bundle_server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/client/render-server.js\");\n","import React from 'react';\nimport App from './redux/create-app';\nimport modules from './modules';\nimport routes from './routes';\n\nconst app = new App({});\napp.models(modules);\napp.router(() => {\n  return routes();\n});\nexport default app.start();\n","export default [\r\n  {\r\n    key: 'app',\r\n    initialState: { count: 2 }\r\n  }\r\n];\r\n","import app from './app';\r\n\r\nexport default [\r\n  app,\r\n];\r\n","import createSagaMiddleware from 'redux-saga';\nimport createStore from './createStore';\nimport { reducerBuilder } from './reducerBuilder';\nimport { sagaBuilder } from './sagaBuilder';\nimport 'react-redux';\n\nconst cSagaMiddleware = createSagaMiddleware.default || createSagaMiddleware;\n\nexport default function create(createOpts = {}) {\n  const { setupApp, onError: onErr, onEffect, onFetchOption, onReducer, history } = createOpts;\n  const app = {\n    _models: [],\n    model,\n    models,\n    reducerMiddleware,\n    start,\n  };\n\n  return app;\n\n  function model(model) {\n    app._models.push(model);\n  }\n\n  function models(models) {\n    app._models = [...app._models, ...models];\n  }\n\n  function reducerMiddleware(middleware) {\n    app._reducerMiddleware = middleware;\n  }\n\n  function start(app) {\n    const sagaMiddleware = cSagaMiddleware();\n    const store = createStore({\n      reducers: reducerBuilder(app._models, onReducer),\n      initialState: {},\n      sagaMiddleware,\n    });\n    app._store = store;\n\n    store.runSaga = sagaMiddleware.run;\n    const sagas = sagaBuilder(app._models, { onEffect, onFetchOption, history });\n    sagaMiddleware.run(sagas);\n    setupApp(app);\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Routers from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport invariant from 'invariant';\n// import createHashHistory from 'history/createHashHistory';\nimport { isFunction, isHTMLElement, isString } from './utils';\nimport create from './core';\n\nfunction createApp(opts = {}) {\n  const { onEffect, onFetchOption, onReducer } = opts;\n  // const history = opts.history || createHashHistory();\n  const createOpts = {\n    setupApp(app) {\n      // app._history = patchHistory(history);\n    },\n    onEffect,\n    onFetchOption,\n    onReducer,\n    // history,\n  };\n\n  const app = create(createOpts);\n  const oldAppStart = app.start;\n  app.router = router;\n  app.start = start;\n  return app;\n\n  function start() {\n    invariant(\n      app._router,\n      `[app.router] router must be registered before app.start()`,\n    );\n\n    if (!app._store) {\n      oldAppStart(app);\n    }\n\n    const store = app._store;\n    return getProvider(store, app);\n  }\n\n  function router(router) {\n    invariant(\n      isFunction(router),\n      `[app.router] router should be function, but got ${typeof router}`,\n    );\n    app._router = router;\n  }\n}\n\nfunction getProvider(store, app) {\n  return (\n    <Provider store={store}>\n      {app._router(app, Routers)}\n    </Provider>\n  );\n}\n\nfunction render(container, store, app) {\n  ReactDOM.render(getProvider(store, app), container);\n}\n\n// function patchHistory(history) {\n//   const oldListen = history.listen;\n//   history.listen = (callback) => {\n//     callback(history.location);\n//     return oldListen.call(history, callback);\n//   };\n//   return history;\n// }\n\nexport default createApp;\n","import isNil from 'lodash/isNil';\nimport isObject from 'lodash/isObject';\nimport has from 'lodash/has';\n\nexport default (initialState, handlers) => {\n  if (isNil(initialState)) {\n    throw new Error('Initial state is required');\n  }\n\n  if (isNil(handlers) || !isObject(handlers)) {\n    throw new Error('Handlers must be an object');\n  }\n\n  return (state = initialState, action) => {\n    if (isNil(action) || !has(action, 'type')) {\n      return state;\n    }\n\n    const handler = handlers[action.type];\n    let newState = isNil(handler) ? state : handler(state, action);\n    if (!action.type.endsWith('_FAIL')) {\n      delete newState.error;\n    }\n    return newState;\n  };\n}\n\n","import { applyMiddleware, compose, createStore } from 'redux';\n\nexport default function (opts = {}) {\n  const {\n    reducers,\n    initialState,\n    sagaMiddleware,\n  } = opts;\n  let devtools = () => noop => noop;\n  // if (\n  //   process.env.NODE_ENV !== 'production' &&\n  //   window.__REDUX_DEVTOOLS_EXTENSION__\n  // ) {\n  //   devtools = window.__REDUX_DEVTOOLS_EXTENSION__;\n  // }\n  const middlewares = [\n    sagaMiddleware,\n  ];\n  const enhancers = [\n    applyMiddleware(...middlewares),\n    devtools(),\n  ];\n  return createStore(reducers, initialState, compose(...enhancers));\n}\n","import fetchApi from 'isomorphic-fetch';\n\nexport function fetch(url, options) {\n  const finalOptions = Object.assign({ credentials: 'include' }, options);\n  return fetchApi(url, finalOptions);\n}\n\n","import { combineReducers } from 'redux';\nimport createReducer from './createReducer';\nimport invariant from 'invariant';\n\nexport function reducerBuilder(options, onReducer) {\n  let reducers = {};\n  let reducerGroups = new Map();\n  for (let key in options) {\n    if (options.hasOwnProperty(key)) {\n      let reducer = options[key];\n      if (reducer instanceof Array) {\n        collectReducers(reducerGroups, reducer);\n      } else {\n        reducers[key] = reducer;\n      }\n    }\n  }\n  for (let [key, reducerGroup] of reducerGroups.entries()) {\n    if (reducers.hasOwnProperty(key)) {\n      throw Error('Duplicate key ' + key);\n    }\n    reducers[key] = initialReducerGroup(reducerGroup, onReducer);\n  }\n  return combineReducers(reducers);\n}\n\nfunction collectReducers(reducerGroups, reducers) {\n  reducers.forEach(reducer => {\n    let keys = reducer.key.split('.');\n    let [groupKey, ...subKeys] = keys;\n    let group = reducerGroups.get(groupKey);\n    if (!group) {\n      group = new Map();\n      reducerGroups.set(groupKey, group);\n    }\n    if (subKeys.length === 0) {\n      reducer.single = true;\n    } else {\n      reducer.subKeys = subKeys;\n    }\n    if (group.has(reducer.key) && !reducer.single) {\n      throw Error('Duplicate key ' + reducer.key);\n    }\n    group.set(reducer.key, reducer);\n  });\n}\n\nexport function initialReducerGroup(reducerGroup, onReducer) {\n  const handlers = {};\n  let initialState = {};\n  for (let reducer of reducerGroup.values()) {\n    if (!reducer.resultKey) {\n      reducer.resultKey = 'result';\n    }\n    if (reducer.single) {\n      initialState = reducer.initialState || {};\n    } else {\n      overrideState(initialState, reducer.subKeys, reducer.initialState);\n    }\n    let reducerAction = reducer.action;\n    if (!reducerAction) {\n      reducerAction = reducer.key;\n    }\n    invariant(\n      reducerAction,\n      `[reducer.key] reducer key is not empty`,\n    );\n    const isFunc = typeof onReducer === 'function';\n    handlers[reducerAction] = reducerHandler(reducer, 'loading', (state, action) => {\n      const { payload, ...other } = action;\n      delete other.type;\n      let newState = {\n        [reducer.resultKey]: null,\n        payload: payload,\n        success: false,\n        loading: true,\n        fromSocket: false,\n        ...other,\n      };\n      if (isFunc) {\n        newState = onReducer(newState, state, action, 'loading');\n      }\n      return newState;\n    });\n    handlers[`${reducerAction}_SUCCESS`] = reducerHandler(reducer, 'success', (state, action) => {\n      const { done, fromSocket, result, payload, ...other } = action;\n      delete other.type;\n      let newState = {};\n      if (fromSocket && done) {\n        newState = result;\n      } else {\n        newState = {\n          [reducer.resultKey]: result,\n          payload: payload,\n          success: true,\n          loading: false,\n          fromSocket,\n          ...other,\n        };\n      }\n      if (isFunc) {\n        newState = onReducer(newState, state, action, 'success');\n      }\n      return newState;\n    });\n    handlers[`${reducerAction}_FAIL`] = reducerHandler(reducer, 'fail', (state, action) => {\n      const { payload, error, ...other } = action;\n      delete other.type;\n      let newState = {\n        payload: payload,\n        error: error,\n        success: false,\n        loading: false,\n        fromSocket: false,\n        ...other,\n      };\n      if (isFunc) {\n        newState = onReducer(newState, state, action, 'fail');\n      }\n      return newState;\n    });\n  }\n  return createReducer(initialState, handlers);\n}\n\nfunction overrideState(state, keys, value = {}) {\n  let length = keys.length;\n  if (length === 1) {\n    return state[keys[0]] = value;\n  }\n  let previous = state;\n  for (let i = 0; i < length; ++i) {\n    if (i === length - 1) {\n      previous[keys[i]] = value;\n    } else {\n      let next = previous[keys[i]];\n      if (!next) {\n        next = previous[keys[i]] = {};\n      }\n      previous = next;\n    }\n  }\n}\n\nfunction reducerHandler(reducer, method, handler) {\n  return (state, action) => {\n    let result;\n    if (reducer[method]) {\n      result = reducer[method](state, action);\n    } else {\n      result = handler(state, action);\n    }\n    if (reducer.single) {\n      state = result;\n    } else {\n      state = { ...state };\n      overrideState(state, reducer.subKeys, result);\n    }\n    return state;\n  };\n}\n","import * as effects from 'redux-saga/effects';\nimport { fork } from 'redux-saga';\nimport * as Fetch from './fetch';\n\nexport function sagaBuilder(options, args) {\n  const sagaArr = [];\n  for (let key in options) {\n    if (options.hasOwnProperty(key)) {\n      let value = options[key];\n      if (value instanceof Array) {\n        for (let item of value) {\n          if (item.url) {\n            sagaArr.push(createSaga(item, args));\n          }\n        }\n      } else {\n        sagaArr.push(value);\n      }\n    }\n  }\n  return function* () {\n    for (let saga of sagaArr) {\n      yield effects.fork(saga);\n    }\n  };\n}\n\nfunction bodyHandler(data, type, method) {\n  if (method !== 'get' && data) {\n    if (type === 'json') {\n      return JSON.stringify(data);\n    } else if (type === 'from') {\n      let pairs = [];\n      for (let key of data) {\n        pairs.push(key + '=' + data[key]);\n      }\n      return pairs.join('&');\n    }\n  }\n  return data;\n}\n\nfunction getEffect(item) {\n  return function* baseEffect({ payload }, { fetch, option }) {\n    return yield fetch(item.url(payload), option);\n  };\n}\n\nexport function createSaga(item, { onEffect, onFetchOption, history }) {\n  const action = item.action || item.key;\n  return function* () {\n    let take = item.takeEvery || effects.takeEvery;\n    yield take(action, function* (actions) {\n      let response;\n      const effect = item.effect || getEffect(item);\n      let putAction = {\n        type: action,\n        payload: actions.payload,\n      };\n      try {\n        let type = item.type || 'json';\n        let bodyParser = item.body || bodyHandler;\n        let option = createOptions(item.method, type, item.headers, bodyParser(actions.payload, type, item.method));\n        if (typeof onFetchOption === 'function') {\n          option = onFetchOption(option, item);\n        }\n        response = yield effect(actions, { fetch: Fetch.fetch, option }, ...effects, item);\n      } catch (error) {\n        putAction.success = false;\n        putAction.loading = false;\n        putAction.result = null;\n        putAction.message = error || '请求异常';\n        putAction.type = `${putAction.type}_FAIl`;\n        yield effects.put(putAction);\n      }\n      if (response) {\n        if (typeof onEffect === 'function') {\n          putAction.url = item.url(actions.payload);\n          putAction = yield onEffect(putAction, response, effects, history);\n        } else {\n          putAction.loading = false;\n          putAction.success = response.status === 200;\n          putAction.status = response.status;\n          putAction.result = yield response.json();\n        }\n        putAction.type = `${putAction.type}${putAction.success ? '_SUCCESS' : '_FAIL'}`;\n        yield effects.put(putAction);\n      }\n    });\n  };\n}\n\nfunction createOptions(method, type, extHeaders, payload) {\n  let options = { method };\n  options.headers = extHeaders || {\n    'Accept': 'application/json',\n    'Content-Type': type === 'json' ? 'application/json' : 'application/x-www-form-urlencoded'\n  };\n  if (method !== 'get') {\n    options.body = payload;\n  }\n  return options;\n}\n","export const isFunction = o => typeof o === 'function';\r\nexport const isString = o => typeof o === 'string';\r\nexport const isArray = Array.isArray.bind(Array);\r\n\r\nexport function isHTMLElement(node) {\r\n  return typeof node === 'object' && node !== null && node.nodeType && node.nodeName;\r\n}\r\n\r\nexport const onError = (app, onError) => {\r\n  return err => {\r\n    if (err) {\r\n      if (typeof err === 'string') {\r\n        err = new Error(err);\r\n      }\r\n      if (onError && typeof onError === 'function') {\r\n        onError(err, app._store.dispatch);\r\n        throw new Error(err.stack || err);\r\n      }\r\n    }\r\n  };\r\n};\r\nexport const onEffect = () => {\r\n};\r\n","\nimport React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport App from './app';\n\n// 导出渲染函数，以给采用 Nodejs 编写的 HTTP 服务器代码调用\nmodule.exports = function render() {\n  // 把根组件渲染成 HTML 字符串\n  return renderToString(App);\n};\n","import React from 'react';\nimport { Button } from 'antd';\n\nexport default () => {\n  return (\n    <div>hello world new app <Button>确定</Button></div>\n  );\n}\n","module.exports = require(\"antd/lib/button\");","module.exports = require(\"antd/lib/button/style\");","module.exports = require(\"babel-runtime/helpers/defineProperty\");","module.exports = require(\"babel-runtime/helpers/extends\");","module.exports = require(\"babel-runtime/helpers/objectWithoutProperties\");","module.exports = require(\"babel-runtime/helpers/slicedToArray\");","module.exports = require(\"babel-runtime/helpers/toArray\");","module.exports = require(\"babel-runtime/helpers/toConsumableArray\");","module.exports = require(\"babel-runtime/helpers/typeof\");","module.exports = require(\"babel-runtime/regenerator\");","module.exports = require(\"invariant\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"lodash/has\");","module.exports = require(\"lodash/isNil\");","module.exports = require(\"lodash/isObject\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");"],"sourceRoot":""}